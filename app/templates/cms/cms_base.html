<!DOCTYPE html>
{% from "common/macro.html" import findstatic %}
<html lang="zh-CN" data-blockbyte-bs-uid="90250">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="ITforum">
    <meta name="author" content="superliuliuliu1">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <link rel="icon" href="{{ findstatic('common/images/favicon.ico') }}">
    <title>{% block title %}{% endblock %}</title>
    <link href="{{ findstatic('cms/css/bootstrap.min.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="{{ findstatic('cms/css/base.css') }}">
    <link href="{{ findstatic('cms/css/ie10-viewport-bug-workaround.css') }}" rel="stylesheet">
    <link href="{{ findstatic('cms/css/dashboard.css') }}" rel="stylesheet">
    <link href="{{ findstatic('cms/css/footer.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="{{ findstatic('common/sweetalert/sweetalert.css') }}">
    <script src="{{ findstatic('cms/js/jquery.min.js') }}"></script>
    <!-- 封装的自己的ajax.js文件用来提交表单使用 -->
    <script src="{{ findstatic('common/myajax.js') }}"></script>
    <script src="{{ findstatic('common/sweetalert/sweetalert.min.js') }}"></script>
    <script src="{{ findstatic('common/sweetalert/myalert.js') }}"></script>
    <script src="{{ findstatic('cms/js/ie-emulation-modes-warning.js') }}"></script>
    <script src="{{ findstatic('cms/js/base.js') }}"></script>
    <!-- 在用其他模板继承本基础模板时，可以在本block中添加指定的js、css文件 -->
    {% block head %}{% endblock %}
    <style class="blockbyte-bs-style" data-name="content">body>div#blockbyte-bs-indicator>div{opacity:0;pointer-events:none}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-visible,body>iframe#blockbyte-bs-overlay.blockbyte-bs-visible{opacity:1;pointer-events:auto}body.blockbyte-bs-noscroll{overflow:hidden !important}body>div#blockbyte-bs-indicator>div{position:absolute;transform:translate3d(-40px, 0, 0);top:0;left:0;width:40px !important;height:100%;background:rgba(0,0,0,0.5);border-radius:0 10px 10px 0;transition:opacity 0.3s, transform 0.3s;z-index:2}body>div#blockbyte-bs-indicator>div>span{-webkit-mask:no-repeat center/32px;-webkit-mask-image:url(chrome-extension://jdbnofccmhefkmjbkkdkfiicjkgofkdh/img/icon-bookmark.svg);background-color:#ffffff;position:absolute;display:block;top:0;left:0;width:100%;height:100%}body>div#blockbyte-bs-indicator[data-pos='right']{left:auto;right:0}body>div#blockbyte-bs-indicator[data-pos='right']>div{transform:translate3d(40px, 0, 0);left:auto;right:0;border-radius:10px 0 0 10px}body>div#blockbyte-bs-indicator.blockbyte-bs-fullHeight>div{border-radius:0}body>div#blockbyte-bs-indicator.blockbyte-bs-hover>div{transform:translate3d(0, 0, 0);opacity:1}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb{height:100% !important;top:0 !important}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb>div{background:transparent}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb>div>span{-webkit-mask-position-y:20px}body>iframe#blockbyte-bs-sidebar{width:350px;max-width:none;height:0;z-index:2147483646;background-color:rgba(255,255,255,0.8) !important;border:none;display:block !important;transform:translate3d(-350px, 0, 0);transition:width 0s 0.3s, height 0s 0.3s, opacity 0.3s, transform 0.3s}body>iframe#blockbyte-bs-sidebar[data-pos='right']{left:auto;right:0;transform:translate3d(350px, 0, 0)}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-visible{width:calc(100% + 350px);height:100%;transform:translate3d(0, 0, 0);transition:opacity 0.3s, transform 0.3s}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-hideMask{background:none !important}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-hideMask:not(.blockbyte-bs-hover){width:calc(350px + 50px)}body>iframe#blockbyte-bs-overlay{width:100%;max-width:none;height:100%;z-index:2147483647;border:none;background:rgba(0,0,0,0.5) !important;transition:opacity 0.3s}
</style>
</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="{{ url_for('cms.index') }}">论坛后台管理系统</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">

                    <li><a href="https://github.com/superliuliuliu/ITforums.git">Star me</a></li>
                    <li><a href="https://www.liugaoyang.xin">Blog</a></li>
                    <li><a href="{{ url_for('cms.selfinfo') }}">{{ g.cms_user.username }}</a></li>
                    <li><a href="{{ url_for('cms.logout') }}">退出</a></li>
                </ul>
                <form class="navbar-form navbar-right">
                    <input type="text" class="form-control" placeholder="Search...">
                </form>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3 col-md-2 sidebar">
                <ul class="nav nav-sidebar">
                    <li {% block index %}{% endblock %}><a href="{{ url_for('cms.index') }}">首页<span class="sr-only">(current)</span></a></li>
                    <li class="is_active_info"><a href="{{ url_for('cms.selfinfo') }}">个人信息</a></li>
                </ul>
                <ul class="nav nav-sidebar">
                    <li class="is_active_carousel"><a href="{{ url_for('cms.carousel') }}">轮播图管理</a></li>
                    {% if g.cms_user.has_power(CMSpower.FORUM) %}
                    <li class="is_active_forum"><a href="{{ url_for('cms.forum') }}">帖子管理</a></li>
                    {% endif %}
                    {% if g.cms_user.has_power(CMSpower.COMMOENT) %}
                    <li class="is_active_comment"><a href="{{ url_for('cms.comment') }}">评论管理</a></li>
                    {% endif %}
                    {% if g.cms_user.has_power(CMSpower.AREA) %}
                    <li class="is_active_area"><a href="{{ url_for('cms.area') }}">版块管理</a></li>
                    {% endif %}
                </ul>
                <ul class="nav nav-sidebar">
                    {% if g.cms_user.has_power(CMSpower.FRONTUSER) %}
                    <li class="is_active_user"><a href="{{ url_for('cms.user') }}">用户管理</a></li>
                    {% endif %}
                    {% if g.cms_user.has_power(CMSpower.CMSUSER) %}
                    <li class="is_active_cmsuser"><a href="{{ url_for('cms.mancmsuser') }}">CMS用户管理</a></li>
                    {% endif %}
                    {% if g.cms_user.is_root %}
                    <li class="is_active_group"><a href="{{ url_for('cms.auth') }}">CMS用户组管理</a></li>
                    {% endif %}
                </ul>
            </div>
            <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
                <!-- 网页模块标题 -->
                <h1 class="page-header">{% block page_header %}{% endblock %}</h1>
                <div class="main_content">{% block main_content %}{% endblock %}</div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <p style="text-align: center;" class="text-muted">Copyright &copy; 2018 ITforum <a href="https://github.com/superliuliuliu/ITforums.git">Fork
                    me on the Github </a></p>
        </div>
    </footer>

    <script>
        window.jQuery
    </script>
    <script src="{{ findstatic('cms/js/bootstrap.min.js') }}"></script>
    <script src="{{ findstatic('cms/js/holder.min.js') }}"></script>
    <script src="{{ findstatic('cms/js/ie10-viewport-bug-workaround.js') }}"></script>

</body>

</html>
